@startuml
box "Expiration Alert" #white

participant "IngredientController" as controller
participant "Server" as server
participant "IngredientService" as service
participant "IngredientRepository" as ingredientRepo
participant "IngredientResponse" as responseDto
participant "Expiration Alarm" as popup

controller -> server : 사용자 세션에서 정보 조회
activate server
server --> controller : 사용자 정보
deactivate server

controller -> service : 유통기한 임박 재료 요청
activate service

service -> ingredientRepo : 사용자 ID로 재료 목록 조회
activate ingredientRepo
ingredientRepo --> service : 재료 목록
deactivate ingredientRepo

service -> responseDto : 유통기한 필터 → DTO 리스트 변환
activate responseDto
responseDto --> service
deactivate responseDto

service --> controller : 유통기한 임박 재료 리스트
deactivate service

controller -> popup : 임박 재료 리스트 전달
activate popup
popup -> popup : 알림 표시
deactivate popup

end box
@enduml
